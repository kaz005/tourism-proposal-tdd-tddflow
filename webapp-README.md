# 観光事業計画書ジェネレーター

観光庁補助金等の審査基準に適合した「高付加価値型観光事業計画書」を自動生成するWebアプリケーションです。

## 機能

### 📝 入力フォーム
- **地域名**: 対象となる観光地域
- **地域固有資源リスト**: 優先度・魅力度・独自性付きで管理
- **ターゲット客層**: 想定する顧客層
- **主要ツアーコンセプト**: 企画のコアコンセプト
- **候補補助金名**: 申請予定の補助金プログラム
- **希望初期投資総額**: 初期投資予算
- **参考売上単価目安**: 収益モデルの基準
- **運営体制の骨格**: 実施体制
- **自由記述フィールド**: 追加要望事項

### 🤖 LLM連携
- **Claude (Anthropic)**: Claude 3 Sonnet
- **OpenAI**: GPT-4
- **Azure OpenAI**: 企業向けAzure環境

### 📄 出力・保存
- **プレビュー表示**: 生成結果の即座確認
- **Markdown**: テキスト形式での保存
- **Word**: 編集可能なdocx形式
- **PDF**: 印刷・配布用のPDF形式

### 💾 プロジェクト管理
- **保存・読み込み**: 入力データの永続化
- **複数プロジェクト**: 異なる地域・企画の管理

## 技術構成

### フロントエンド
- **Next.js 14**: React フレームワーク
- **TypeScript**: 型安全性
- **Tailwind CSS**: ユーティリティファーストCSS
- **Lucide React**: アイコンライブラリ

### バックエンド
- **Next.js API Routes**: サーバーサイド処理
- **REST API**: LLMプロバイダーとの連携

### 出力処理
- **jsPDF**: PDF生成
- **docx**: Word文書生成
- **file-saver**: ファイルダウンロード

## セットアップ

### 前提条件
- Node.js 18.0以上
- npm または yarn

### インストール
```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

アプリケーションは http://localhost:3000 で起動します。

### 環境設定
`.env.example`をコピーして`.env.local`を作成し、必要に応じて環境変数を設定してください。

```bash
cp .env.example .env.local
```

## 使用方法

### 1. 基本設定
1. 画面右上の設定アイコンをクリック
2. 使用するLLMプロバイダーを選択
3. 対応するAPIキーを入力

### 2. 入力フォームの記入
1. **地域名**: 企画対象地域を入力
2. **資源リスト**: 「資源を追加」で地域固有資源を登録
   - 優先度（高/中/低）
   - 魅力度（★1-5）
   - 独自性キーワード
3. **その他項目**: ターゲット客層、コンセプト等を入力

### 3. 生成・出力
1. 「計画書を生成」ボタンをクリック
2. 結果を確認
3. 必要に応じてエクスポート形式を選択してダウンロード

### 4. プロジェクト管理
- 「現在の入力を保存」でプロジェクトを保存
- 保存済みプロジェクトから読み込み可能

## テスト

### 単体テスト
```bash
npm test
```

### E2Eテスト
```bash
npm run test:e2e
```

### ウォッチモード
```bash
npm run test:watch
```

## コード品質

### リンター
```bash
npm run lint
```

### ビルド確認
```bash
npm run build
```

## API仕様

### POST /api/generate
プロンプトを受け取り、指定されたLLMプロバイダーで計画書を生成します。

#### リクエスト
```json
{
  "prompt": "生成用プロンプト",
  "provider": "claude|openai|azure",
  "apiKey": "APIキー"
}
```

#### レスポンス
```json
{
  "content": "生成された計画書内容",
  "provider": "使用されたプロバイダー",
  "timestamp": "生成日時"
}
```

## ライセンス

MIT License

## 貢献

プルリクエストや issue の報告を歓迎します。